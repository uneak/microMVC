define("element",[],function(){var t=function(){};return t.prototype={_constructor:function(){},publish:function(t,s){this._component.publish(this._id+"."+t,s)}},t}),define("component",["element"],function(t){var s=function(t){this.__app__=t,this.subscribers={}};return s.prototype={add:function(s,e,n){n=n||t;var r=function(){};r.prototype=new n,r.prototype._id=s,r.prototype._component=this,r.prototype.controllers=this.__app__.controllers,r.prototype.models=this.__app__.models,r.prototype.views=this.__app__.views;for(var i in e)r.prototype[i]=e[i];return this[s]=new r,this[s]._constructor(),this[s]},call:function(t,s){var e;return null!==(e=/^(.*?)\.(.*)$/.exec(t))?this[e[1]][e[2]](s):null},publish:function(t,s){s=s||{};for(var e,n=/\.*([^.]+)\.*/g,r=this.subscribers;null!==(e=n.exec(t))&&r[e[1]];)if(e.index===n.lastIndex&&n.lastIndex++,r=r[e[1]],r._subscribers)for(var i=0;i<r._subscribers.length;i++)r._subscribers[i].callback.call(r._subscribers[i].scope,s);return this},subscribe:function(t,s,e){for(var n,r=/\.*([^.]+)\.*/g,i=this.subscribers;null!==(n=r.exec(t));)n.index===r.lastIndex&&r.lastIndex++,i[n[1]]=i[n[1]]||{},i=i[n[1]];i._subscribers=i._subscribers||[],i._subscribers.push({context:t,scope:s,callback:e})}},s}),define("micromvc",["component"],function(t){var s=function(){this.controllers=new t(this),this.models=new t(this),this.views=new t(this)};return s});